@page "/Pomodoro"
<MudPaper Class="mt-2 pa-2 d-inline-block">
     <MudContainer MaxWidth="MaxWidth.Small">
        <MudText Typo="Typo.h5" Align="Align.Center">Pomodoro</MudText>

        @if (!StartBtnPressed)
        {
            <MudText Color="Color.Error">@ErrorMessage</MudText>

            <MudNumericField @bind-Value="InputMinutes" Label="Sesijas ilgums" Variant="Variant.Outlined" Margin="Margin.Dense" />
            
            <MudStack Row="true" Spacing="2">
                <MudNumericField @bind-Value="InputPauseMinutes" Label="Īsā pauze" Variant="Variant.Outlined" Margin="Margin.Dense" />
                <MudNumericField @bind-Value="InputLongPauseMinutes" Label="Garā pauze" Variant="Variant.Outlined" Margin="Margin.Dense" />
                <MudNumericField @bind-Value="InputSessionAmount" Label="Sesijas" Variant="Variant.Outlined" Margin="Margin.Dense" />
            </MudStack>
            <MudNumericField @bind-Value="InputSessionLongPause" Label="Garās pauzes intervāls" Variant="Variant.Outlined" Margin="Margin.Dense" />


        }
        else
        {
            <MudStack Spacing="1">
                @if (IsPause)
                {
                    <MudText>Pauzes laiks (～￣▽￣)～</MudText>
                }

                <MudText>Sesija @CurrSession/@InputSessionAmount</MudText>
                <MudText Attrib="data-time-display">Atlikušais laiks: @DisplayTime</MudText>
            </MudStack>
        }


        <MudStack Row="true" AlignItems="AlignItems.Center" Spacing="2" Class="mt-3">
        @if (!StartBtnPressed)
            {
                <MudButton Color="Color.Primary" Variant="Variant.Filled" @onclick="SetTimer">Sākt</MudButton>
            }
            else
            {
                @if (IsPause)
                {
                    <MudTooltip Text="Izlaist pauzi">
                        <MudIconButton Icon="@Icons.Material.Filled.SkipNext" @onclick="SkipPause" />
                    </MudTooltip>
                }
                <MudButton Color="Color.Secondary" Variant="Variant.Filled" @onclick="ResetTimer">Stop</MudButton>
                @if (!StopBtnPressed)
                {
                    <MudIconButton Icon="@Icons.Material.Filled.PauseCircleFilled" Color="Color.Error" @onclick="PauseTimer"></MudIconButton>
                }
                else
                {
                    <MudIconButton Icon="@Icons.Material.Filled.PlayCircleFilled" Color="Color.Success" @onclick="ContinueTimer"></MudIconButton>
                }

                    <MudIconButton Icon="@Icons.Material.Filled.RemoveCircle" @onclick="() => AdjustTime(false)"></MudIconButton>
                     <MudNumericField @bind-Value="AdjustedMin" Width="25%" Label="Mainīt minūtes" Margin="Margin.Dense" Variant="Variant.Outlined"></MudNumericField>
                    <MudIconButton Icon="@Icons.Material.Filled.AddCircle" @onclick="() => AdjustTime(true)"></MudIconButton>
            }
            </MudStack>
    </MudContainer>
</MudPaper>

